webpackJsonp([10],{"4ml/":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),o={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var i=e("VU/8")({},o,!1,function(t){e("cfsl")},null,null).exports,u=e("/ocq"),a=e("Fd2+");r.a.use(u.a);var s=new u.a({routes:[{path:"/",component:function(){return Promise.all([e.e(0),e.e(3)]).then(e.bind(null,"2NXm"))},redirect:"/home",children:[{path:"home",component:function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"vkyI"))}},{path:"cate",component:function(){return e.e(4).then(e.bind(null,"TA+J"))}},{path:"cart",component:function(){return Promise.all([e.e(0),e.e(8)]).then(e.bind(null,"ltQH"))}},{path:"mine",component:function(){return Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"bdlY"))}}]},{path:"/login",component:function(){return Promise.all([e.e(0),e.e(1)]).then(e.bind(null,"Luci"))}},{path:"/register",component:function(){return e.e(5).then(e.bind(null,"1cHr"))}},{path:"/goodsList",component:function(){return Promise.all([e.e(0),e.e(7)]).then(e.bind(null,"D228"))}},{path:"*",redirect:"/login"}]});s.beforeEach(function(t,n,e){if(("/mine"==t.path||"/cart"==t.path)&&!JSON.parse(sessionStorage.getItem("user")))return a.a.fail("请登录"),void s.push("/login");e()});var c=s,l=(e("4ml/"),e("mvHQ")),f=e.n(l),p={user:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")):null,cartList:[]},m={changeUser:function(t,n){t.user=n,n?sessionStorage.setItem("user",f()(n)):sessionStorage.removeItem("user")},changeCartList:function(t,n){t.cartList=n}},d=e("vLgD"),h={userActions:function(t,n){t.commit("changeUser",n)},cartListActions:function(t,n){Object(d.d)({uid:n}).then(function(n){t.commit("changeCartList",n.data.list)})}},g=e("NYxO");r.a.use(g.a);var v=new g.a.Store({state:p,mutations:m,actions:h,getters:{user:function(t){return t.user},cartList:function(t){return t.cartList},total:function(t){var n=0;return null!=t.cartList&&t.cartList.map(function(t){n+=t.price*t.num}),100*n},sum:function(t){var n=0;return null!=t.cartList&&t.cartList.map(function(t){n+=t.num}),n}}});r.a.use(a.b),r.a.prototype.$preImg="",new r.a({el:"#app",router:c,store:v,components:{App:i},template:"<App/>"})},cfsl:function(t,n){},vLgD:function(t,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"g",function(){return c}),e.d(n,"e",function(){return l}),e.d(n,"f",function(){return f}),e.d(n,"i",function(){return p}),e.d(n,"h",function(){return m}),e.d(n,"d",function(){return d}),e.d(n,"a",function(){return h}),e.d(n,"b",function(){return g});var r=e("mtWM"),o=e.n(r),i=e("mw3O"),u=e.n(i),a=e("Fd2+");o.a.interceptors.request.use(function(t){var n=JSON.parse(sessionStorage.getItem("user"));return n&&(t.headers.authorization=n.token),t}),o.a.interceptors.response.use(function(t){if(200===t.data.code)return t;a.a.fail(t.data.msg)});var s=function(){return o()({method:"get",url:"/api/getbanner"})},c=function(){return o()({method:"get",url:"/api/getindexgoods"})},l=function(){return o()({method:"get",url:"/api/getcatetree"})},f=function(t){return o()({method:"get",url:"/api/getgoods",params:t})},p=function(t){return o()({method:"post",url:"/api/register",data:u.a.stringify(t)})},m=function(t){return o()({method:"post",url:"/api/login",data:u.a.stringify(t)})},d=function(t){return o()({method:"get",url:"/api/cartlist",params:t})},h=function(t){return o()({method:"post",url:"/api/cartadd",data:u.a.stringify(t)})},g=function(t){return o()({method:"post",url:"/api/cartdelete",data:u.a.stringify(t)})}}},["NHnr"]);
//# sourceMappingURL=app.22162194c19e9d89f8ec.js.map